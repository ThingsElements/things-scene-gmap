(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var DEFAULT_PANE_NAME="overlayLayer";var CSS_TRANSFORM=function(){var div=document.createElement("div");var transformProps=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];for(var i=0;i<transformProps.length;i++){var prop=transformProps[i];if(div.style[prop]!==undefined){return prop}}return transformProps[0]}();var GmapOverlay=function(_google$maps$OverlayV){_inherits(GmapOverlay,_google$maps$OverlayV);function GmapOverlay(options){_classCallCheck(this,GmapOverlay);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(GmapOverlay).call(this));_this._isAdded=false;_this._paneName=DEFAULT_PANE_NAME;_this._element=null;_this._cssWidth=300;_this._cssHeight=150;_this._updateHandler=null;_this._resizeHandler=null;_this._topLeft=null;_this._centerListener=null;_this._resizeListener=null;_this._needsResize=true;if(options)_this.options=options;return _this}_createClass(GmapOverlay,[{key:"onAdd",value:function onAdd(){if(this._isAdded)return;this._isAdded=true;this._setPane();this._resizeListener=google.maps.event.addListener(this.getMap(),"resize",this._resize.bind(this));this._centerListener=google.maps.event.addListener(this.getMap(),"center_changed",this._repositionCanvas.bind(this));this._resize();this._repositionCanvas()}},{key:"onRemove",value:function onRemove(){if(!this._isAdded)return;this._isAdded=false;this._topLeft=null;this._element.parentElement.removeChild(this._element);if(this._centerListener){google.maps.event.removeListener(this._centerListener);this._centerListener=null}if(this._resizeListener){google.maps.event.removeListener(this._resizeListener);this._resizeListener=null}}},{key:"_setPane",value:function _setPane(){if(!this._isAdded)return;var panes=this.getPanes();if(!panes[this._paneName]){throw new Error('"'+this._paneName+'" is not a valid MapPane name.')}panes[this._paneName].appendChild(this._element)}},{key:"draw",value:function draw(){this._repositionCanvas()}},{key:"_resize",value:function _resize(){if(!this._isAdded)return;var map=this.getMap();var mapWidth=map.getDiv().offsetWidth;var mapHeight=map.getDiv().offsetHeight;var newWidth=mapWidth*this._resolutionScale;var newHeight=mapHeight*this._resolutionScale;var oldWidth=this._element.width;var oldHeight=this._element.height;if(oldWidth!==newWidth||oldHeight!==newHeight){this._element.width=newWidth;this._element.height=newHeight;this._needsResize=true;this._update()}if(this._cssWidth!==mapWidth||this._cssHeight!==mapHeight){this._cssWidth=mapWidth;this._cssHeight=mapHeight;this._element.style.width=mapWidth+"px";this._element.style.height=mapHeight+"px"}}},{key:"_repositionCanvas",value:function _repositionCanvas(){var map=this.getMap();var top=map.getBounds().getNorthEast().lat();var center=map.getCenter();var scale=Math.pow(2,map.getZoom());var left=center.lng()-this._cssWidth*180/(256*scale);this._topLeft=new google.maps.LatLng(top,left);var projection=this.getProjection();var divCenter=projection.fromLatLngToDivPixel(center);var offsetX=-Math.round(this._cssWidth/2-divCenter.x);var offsetY=-Math.round(this._cssHeight/2-divCenter.y);this._element.style[CSS_TRANSFORM]="translate("+offsetX+"px,"+offsetY+"px)";this._update()}},{key:"_update",value:function _update(){var _this2=this;if(!this._isAdded)return;if(this._needsResize&&this._resizeHandler){this._needsResize=false;this._resizeHandler()}if(this._updateHandler){(function(){var self=_this2;setTimeout(function(){self._updateHandler()},1)})()}}},{key:"options",set:function set(options){this._element=options.element;if(options.paneName!==undefined)this.paneName=options.paneName;if(options.updateHandler!==undefined)this.updateHandler=options.updateHandler;if(options.resizeHandler!==undefined)this.resizeHandler=options.resizeHandler;if(options.resolutionScale!==undefined)this.resolutionScale=options.resolutionScale;if(options.map!==undefined)this.setMap(options.map)}},{key:"paneName",set:function set(paneName){this._paneName=paneName;this._setPane()},get:function get(){return this._paneName}},{key:"resizeHandler",set:function set(resizeHandler){this._resizeHandler=resizeHandler}},{key:"resolutionScale",set:function set(scale){if(typeof scale==="number"){this._resolutionScale=scale;this._resize()}}},{key:"updateHandler",set:function set(updateHandler){this._updateHandler=updateHandler}},{key:"topLeft",get:function get(){return this._topLeft}}]);return GmapOverlay}(google.maps.OverlayView);exports.default=GmapOverlay},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _gmapOverlay=require("./gmap-overlay");Object.defineProperty(exports,"GmapOverlay",{enumerable:true,get:function get(){return _interopRequireDefault(_gmapOverlay).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}window.GmapOverlay=exports.GmapOverlay},{"./gmap-overlay":1}]},{},[2]);